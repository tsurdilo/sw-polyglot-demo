"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.binary = exports.send = void 0;
const __1 = require("../..");
const headers_1 = require("./headers");
const validation_1 = require("../../event/validation");
// Sender is a function that takes headers and body for transmission
// over HTTP. Users supply this function as a parameter to HTTP.emit()
// Sends a message by invoking sender(). Implements Invoker
function send(sender, message) {
    return sender(message.headers, message.body);
}
exports.send = send;
// implements Serializer
function binary(event) {
    const contentType = { [__1.CONSTANTS.HEADER_CONTENT_TYPE]: __1.CONSTANTS.DEFAULT_CONTENT_TYPE };
    const headers = headers_1.headersFor(event);
    return {
        headers: Object.assign(Object.assign({}, contentType), headers),
        body: validation_1.asData(event.data, event.datacontenttype),
    };
}
exports.binary = binary;
